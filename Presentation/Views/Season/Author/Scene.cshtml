@model Presentation.Models.SeasonEditEpisodeModel
           
@{
    var ajaxOptions = new AjaxOptions { HttpMethod = "Post", OnBegin = "SaveBegin('" + Model.SceneCounter + "')", OnSuccess = "SaveSuccess('" + Model.SceneCounter + "')", OnFailure = "SaveFailure('" + Model.SceneCounter + "')" };
    var route = new { sceneID = Model.Story.SceneList[Model.SceneCounter].ID, episodeID = Model.Story.ID };
    var html = new { id = "form_" + Model.SceneCounter };
}

<div class="scene" id="Scene@(Model.SceneCounter)">
    @using (Ajax.BeginForm("EditScene", route, ajaxOptions, html))
    {
        for (var s = 0; s <= Model.SceneCounter; s++)
        {
            @Html.HiddenFor(m => m.Story.SceneList[s].ID);
        }
        
        for (var p = 0; p < Model.Story.SceneList[Model.SceneCounter].ParagraphTypeList.Count; p++)
        {
            Model.ParagraphCounter = p;
        
            @Html.Partial("Author/Paragraph")
        }

        <button type="submit" class="darkback" class="save" id="save_@(Model.SceneCounter)">Salvar</button>

        Model.TalkCounter = 0;
        Model.TellerCounter = 0;
    }
    
</div>

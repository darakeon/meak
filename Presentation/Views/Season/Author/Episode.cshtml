@model Presentation.Models.SeasonEditEpisodeModel

@{
    ViewBag.Title = String.Format("MEAK {0}{1} – {2}", Model.Story.Season, Model.Story, Model.Story.Title);
    Layout = "~/Views/Shared/_Layout.cshtml";
    var adderPage = Url.Action("Adder");
    var ajaxOptions = new AjaxOptions { HttpMethod = "Post", OnBegin = "SaveBegin('title')", OnSuccess = "SaveSuccess('title')", OnFailure = "SaveFailure('title')" };
    var route = new { episodeID = Model.Story.ID };
    var html = new { id = "form_title" };
}

<script type="text/javascript">var adderPage = '@adderPage';</script>

<script src="@Url.Content("~/Assets/js/Author/Inputs.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Assets/js/Author/Suggestion.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Assets/js/Author/Adder.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Assets/js/Author/SaveChangeColor.js")" type="text/javascript"></script>

<script src="@Url.Content("~/Assets/js/Author/General.js")" type="text/javascript"></script>

@Html.Partial("Suggestion")
        
@using (Ajax.BeginForm("EditTitle", route, ajaxOptions, html))
{
    <div class="titleChange">
        <button type="submit" class="darkback" class="save" id="save_title">Salvar</button>
        @Html.TextBoxFor(m => m.Story.Title)
    </div>
}

<p>
    Paragraphs last count: @Model.Story.SceneList.Sum(s => s.ParagraphTypeList.Count)
</p>
    

        
@for (var s = 0; s < Model.Story.SceneList.Count; s++)
{
    Model.SceneCounter = s;

    @Html.Partial("Author/Scene")
}

<p class="sign">
    <img alt="Handhara Akeon" src="@Url.Content(@"~/Assets/images/sign.gif")" />
</p>
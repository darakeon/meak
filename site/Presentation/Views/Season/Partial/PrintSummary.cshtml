@using Structure.Helpers

@model Structure.Entities.System.Episode

@{
	var storyPages = Model.BlockList.Sum(b => b.PageCount) + 1;
	var page = storyPages + 3;
	var lastPageWasOdd = page % 2 == 0;
}

<div class="just-print">
	@if (lastPageWasOdd)
	{
		<div class="empty page-even-item">
			@await Html.PartialAsync("Partial/PrintFrame", new PageFrame(Model, page))

			Esta página está vazia para ajuste de diagramação
		</div>

		page++;
	}

	<div class="summary page-odd-item">
		@await Html.PartialAsync("Partial/PrintFrame", new PageFrame(Model, page))

		<p class="title">
			Resumo do Capítulo
		</p>

		@Model.Summary
	</div>

	@if (!lastPageWasOdd)
	{
		<div class="empty page-even-item">
			@await Html.PartialAsync("Partial/PrintFrame", new PageFrame(Model, page + 1))

			Esta página está vazia para ajuste de diagramação
		</div>
	}
</div>
